{# templates/proj/edu/show.html.twig #}
{% extends 'proj/base.html.twig' %}

{% block title %}{{ item.title }} - EduTracker{% endblock %}

{% block library_body %}
<section class="edu-container">
    <div class="edu-header">
        <h1 class="page-title">{{ item.title }}</h1>
        <span class="status {{ item.status|replace({' ':'-'}) }}">
            {{ item.status|capitalize }}
        </span>
    </div>

    <div class="edu-card">
        <p>{{ item.description }}</p>

        <div class="edu-card-footer actions">
            {% if item.url %}
                {% set url = item.url|trim %}
                {% if not (url starts with 'http://' or url starts with 'https://') %}
                    {% set url = 'https://' ~ url %}
                {% endif %}
                <a href="{{ url }}"
                   target="_blank"
                   rel="noopener noreferrer"
                   class="btn btn-outline small">
                    Go to Resource
                </a>
            {% endif %}

            <a href="{{ path('edu_edit', {'id': item.id}) }}" class="btn btn-outline small">Edit</a>

            <form method="post"
                  action="{{ path('edu_delete', {'id': item.id}) }}"
                  style="display:inline;"
                  onsubmit="return confirm('Are you sure you want to delete this item?');">
                <input type="hidden"
                       name="_token"
                       value="{{ csrf_token('delete' ~ item.id) }}">
                <button type="submit"
                        class="btn btn-danger small">
                    Delete
                </button>
            </form>
        </div>
    </div>
</section>
{% endblock %}
